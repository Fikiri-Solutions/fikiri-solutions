# Staging Environment Configuration
# Production-like environment for testing and client demos

# =============================================================================
# STAGING ENVIRONMENT VARIABLES
# =============================================================================

# Application Environment
NODE_ENV=staging
FLASK_ENV=staging

# Staging URLs
FRONTEND_URL=https://staging.fikirisolutions.com
BACKEND_URL=https://api-staging.fikirisolutions.com
API_BASE_URL=https://api-staging.fikirisolutions.com/api

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Staging Database (PostgreSQL)
DATABASE_URL=postgresql://staging_user:staging_password@staging-db.fikirisolutions.com:5432/fikiri_staging

# Database Connection Pool Settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Staging Redis
REDIS_URL=redis://staging-redis.fikirisolutions.com:6379/0

# Redis Configuration
REDIS_MAX_CONNECTIONS=10
REDIS_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_KEEPALIVE=true
REDIS_SOCKET_KEEPALIVE_OPTIONS=1,3,5

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration
JWT_SECRET_KEY=staging-jwt-secret-key-change-this
JWT_ACCESS_TOKEN_EXPIRES=3600
JWT_REFRESH_TOKEN_EXPIRES=2592000

# Session Configuration
SESSION_SECRET_KEY=staging-session-secret-key-change-this
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# CORS Configuration
CORS_ORIGINS=https://staging.fikirisolutions.com,https://api-staging.fikirisolutions.com

# Rate Limiting
RATE_LIMIT_STORAGE_URL=redis://staging-redis.fikirisolutions.com:6379/1
RATE_LIMIT_DEFAULT=500 per hour
RATE_LIMIT_LOGIN=10 per minute

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# SMTP Configuration (Staging)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=staging@fikirisolutions.com
SMTP_PASSWORD=staging-app-password
SMTP_USE_TLS=true

# Email Templates
EMAIL_FROM_NAME=Fikiri Solutions (Staging)
EMAIL_FROM_ADDRESS=staging@fikirisolutions.com
EMAIL_REPLY_TO=staging-support@fikirisolutions.com

# =============================================================================
# GMAIL API CONFIGURATION
# =============================================================================

# Gmail API Credentials (Staging)
GMAIL_CLIENT_ID=staging-gmail-client-id
GMAIL_CLIENT_SECRET=staging-gmail-client-secret
GMAIL_REDIRECT_URI=https://api-staging.fikirisolutions.com/api/auth/gmail/callback

# Gmail API Scopes
GMAIL_SCOPES=https://www.googleapis.com/auth/gmail.readonly,https://www.googleapis.com/auth/gmail.send

# =============================================================================
# STRIPE CONFIGURATION
# =============================================================================

# Stripe API Keys (Test Mode)
STRIPE_PUBLISHABLE_KEY=pk_test_staging-stripe-publishable-key
STRIPE_SECRET_KEY=sk_test_staging-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_staging-webhook-secret

# Stripe Configuration
STRIPE_CURRENCY=usd
STRIPE_WEBHOOK_TOLERANCE=300

# =============================================================================
# AI & ML SERVICES
# =============================================================================

# OpenAI Configuration (Staging)
OPENAI_API_KEY=sk-staging-openai-api-key
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# AI Service Configuration
AI_SERVICE_TIMEOUT=30
AI_SERVICE_RETRY_ATTEMPTS=3
AI_SERVICE_RETRY_DELAY=1

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Sentry Configuration (Staging)
SENTRY_DSN=https://staging-sentry-dsn@sentry.io/staging-project
SENTRY_ENVIRONMENT=staging
SENTRY_RELEASE=1.0.0-staging

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/fikiri-staging.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# Application Performance Monitoring
APM_SERVICE_NAME=fikiri-solutions-staging
APM_SERVICE_VERSION=1.0.0-staging
APM_ENVIRONMENT=staging

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Google Cloud Platform (Staging)
GCP_PROJECT_ID=fikiri-staging-project
GCP_CREDENTIALS_PATH=path/to/staging-service-account.json

# AWS Configuration (Staging)
AWS_ACCESS_KEY_ID=staging-aws-access-key
AWS_SECRET_ACCESS_KEY=staging-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=fikiri-staging-assets

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles (Staging)
FEATURE_AI_AUTOMATION=true
FEATURE_EMAIL_PARSING=true
FEATURE_CRM_INTEGRATION=true
FEATURE_ANALYTICS_DASHBOARD=true
FEATURE_MULTI_TENANT=false
FEATURE_BETA_FEATURES=true

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Development Tools
DEBUG=false
FLASK_DEBUG=false
REACT_APP_DEBUG=false

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================

# Production Security
SECURE_SSL_REDIRECT=true
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=true
SECURE_HSTS_PRELOAD=true

# Production Performance
COMPRESS_MIMETYPES=text/html,text/css,text/javascript,application/javascript,application/json
COMPRESS_LEVEL=6
COMPRESS_MIN_SIZE=500

# Production Logging
PRODUCTION_LOG_LEVEL=INFO
PRODUCTION_LOG_FORMAT=json

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Render Configuration (Staging)
RENDER_EXTERNAL_URL=https://fikirisolutions-staging.onrender.com
RENDER_INTERNAL_URL=http://localhost:10000

# Vercel Configuration (Staging)
VERCEL_URL=https://fikirisolutions-staging.vercel.app
VERCEL_ENV=staging

# Docker Configuration
DOCKER_REGISTRY=your-docker-registry
DOCKER_IMAGE_NAME=fikiri-solutions-staging
DOCKER_TAG=staging

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Database Backup
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_STORAGE_PATH=/backups/staging

# =============================================================================
# COMPLIANCE & PRIVACY
# =============================================================================

# GDPR Compliance
GDPR_DATA_RETENTION_DAYS=2555
GDPR_CONSENT_REQUIRED=true

# Privacy Configuration
PRIVACY_POLICY_URL=https://staging.fikirisolutions.com/privacy
TERMS_OF_SERVICE_URL=https://staging.fikirisolutions.com/terms

# =============================================================================
# NOTIFICATIONS
# =============================================================================

# Slack Notifications (Staging)
SLACK_WEBHOOK_URL=staging-slack-webhook-url
SLACK_CHANNEL=#staging-alerts

# Email Notifications
ADMIN_EMAIL=staging-admin@fikirisolutions.com
SUPPORT_EMAIL=staging-support@fikirisolutions.com

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Cache Configuration
CACHE_TYPE=redis
CACHE_REDIS_URL=redis://staging-redis.fikirisolutions.com:6379/2
CACHE_DEFAULT_TIMEOUT=300
CACHE_KEY_PREFIX=fikiri-staging:

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# File Upload Limits
MAX_CONTENT_LENGTH=16777216
UPLOAD_FOLDER=uploads/staging
ALLOWED_EXTENSIONS=txt,pdf,png,jpg,jpeg,gif,doc,docx

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Rate Limiting
API_RATE_LIMIT=500 per hour
API_RATE_LIMIT_PER_USER=50 per hour

# API Versioning
API_VERSION=v1
API_DEFAULT_VERSION=v1

# =============================================================================
# WEBHOOK CONFIGURATION
# =============================================================================

# Webhook Endpoints
WEBHOOK_SECRET=staging-webhook-secret
WEBHOOK_TIMEOUT=30
WEBHOOK_RETRY_ATTEMPTS=3

# =============================================================================
# ANALYTICS CONFIGURATION
# =============================================================================

# Google Analytics (Staging)
GA_TRACKING_ID=G-STAGING-XXXXXXXXXX

# PostHog Analytics (Staging)
POSTHOG_API_KEY=staging-posthog-api-key
POSTHOG_HOST=https://app.posthog.com

# =============================================================================
# INTERNATIONALIZATION
# =============================================================================

# i18n Configuration
DEFAULT_LOCALE=en
SUPPORTED_LOCALES=en,es,fr,de
LOCALE_FALLBACK=en

# =============================================================================
# SECURITY HEADERS
# =============================================================================

# Content Security Policy
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self' 'unsafe-inline' 'unsafe-eval'
CSP_STYLE_SRC='self' 'unsafe-inline'
CSP_IMG_SRC='self' data: https:
CSP_FONT_SRC='self' https:
CSP_CONNECT_SRC='self' https:

# Additional Security Headers
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block
REFERRER_POLICY=strict-origin-when-cross-origin
